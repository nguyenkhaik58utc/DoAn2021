@using Ext.Net.MVC
@using Ext.Net
@using iDAS.Web.ExtExtend
@model iDAS.Items.TaskPerformItem
@{
    int taskId = (int)ViewData["TaskID"];
}
@(
 Html.X().Window()
        .ID("winAddTaskPerformDetail")
        .Title("Xem chi tiết báo cáo công việc")
        .Icon(Icon.Zoom)
        .Width(700)
        .BodyPadding(5)
        .Constrain(true)
        .Modal(true)
        .Resizable(false)
        .Center()
        .Items(
            Html.X().FormPanel()
                .ID("frmTaskPerformDetail")
                .Frame(true)
                .Border(false)
                .StyleSpec("border:none")
                    .Layout(LayoutType.VBox)
                        .LayoutConfig(new VBoxLayoutConfig { Align = VBoxAlign.Stretch })
                .Items(
                    Html.X().HiddenFor(m => m.PerformBy)
                            .ReadOnly(true),
                    Html.X().HiddenFor(m => m.ID)
                            .ReadOnly(true)
                            .ID("txtTaskID"),
                                   Html.X().DateTimeFieldFor(m => m.Time)
                                .AllowBlank(false)
                                .ReadOnly(true)
                                 .FieldLabel("Thời gian báo cáo")
                                 .MarginSpec("3 0 3 0"),
                                        Html.X().FileUploadFieldFor(m => m.AttachmentFiles).ReadOnly(true),
                                Html.X().TextAreaFor(m => m.Content)
                                    .ID("txtPerformContent")
                                    .FieldLabel("Nội dung")
                                    .AllowBlank(false)
                                    .TabIndex(3)
                                    .ReadOnly(true)
                                    .BlankText("Nội dung Báo cáo Công việc không được để trống!")
                                    .EmptyText("Nhập Nội dung Báo cáo Công việc...")
                                    .Height(110),

                                          Html.X().TextAreaFor(m => m.Feedback)
                                        .ID("txtPerformFeedback")
                                        .FieldLabel("Phản hồi")
                                        .TabIndex(3)
                                        .ReadOnly(true)
                                        .EmptyText("Nhập Nội dung đề xuất, phản hồi...")
                                        .Height(110),
                                Html.X().Container()
                                        .Layout(LayoutType.HBox)
                                        .MarginSpec("0 0 0 0")
                                        .Items(
                                Html.X().NumberFieldFor(m => m.Rate)
                                        .ReadOnly(true)
                                        .ID("txtPercentComplete")
                                        .MarginSpec("0 10 0 0")
                                        .TabIndex(4)
                                        .FieldLabel("% Hoàn thành")
                                        .MinValue(0)
                                        .MaxValue(100)
                                        .AllowBlank(false)
                                        .BlankText("% Hoàn thành Công việc không được bỏ trống!")
                                )
                    )
            )
            .Buttons(
                Html.X().ButtonExit()
            )
)
