@using Ext.Net;
@using Ext.Net.MVC;
@using iDAS.Web.ExtExtend;
@model iDAS.Items.EquipmentProductionErrorItem
@(Html.X().Window()
.Title("Thông tin chi tiết khắc phục sự cố")
.Height(1)
.Maximized(true)
.BodyPadding(0)
.Margin(0)
.Constrain(true)
.Layout(LayoutType.Fit)
.Modal(true)
.Resizable(false)
.Items(
    Html.X().FormPanel()
    .Layout(LayoutType.Column)
    .Frame(true)
    .Border(false)
    .MarginSpec("0 -4 -3 -4")
    .StyleSpec("border: none;")
    .FieldDefaults(df => { df.LabelWidth = 120; })
    .Items(
          Html.X().EmployeeFieldFor(m => m.HumanEmployee).ReadOnly(true)
                .Title("Người xử lý" )
                .ColumnWidth(1)
                .MarginSpec("5 8 5 8"),
         Html.X().DepartmentFieldFor(m => m.HumanDepartment).ReadOnly(true)
                .FieldLabel("Phòng ban sử dụng")
                .ColumnWidth(1)
                .MarginSpec("5 8 5 8"),
        Html.X().DateTimeFieldFor(m => m.Time).ReadOnly(true).FieldLabel("Thời gian xảy ra")
                 .ColumnWidth(0.4).MarginSpec("5 8 5 8"),
          Html.X().Container().ColumnWidth(1).Layout(LayoutType.Column).MarginSpec("0 4 0 4")
                    .Items(
                              Html.X().TextAreaFor(m => m.Cause).ReadOnly(true).FieldLabel("Mô tả").LabelAlign(LabelAlign.Top)
                                    .ColumnWidth(0.5).MarginSpec("0 2 0 0").Height(150),
                              Html.X().TextAreaFor(m => m.Solution).ReadOnly(true).FieldLabel("Biện pháp").LabelAlign(LabelAlign.Top)
                                    .ColumnWidth(0.5).MarginSpec("0 2 0 0").Height(150)
            ),
          Html.X().FieldSet().Title("Thông tin khắc phục").ColumnWidth(1).Layout(LayoutType.Column)
                .Items(
                   Html.X().Container().ColumnWidth(0.4).Layout(LayoutType.Column).MarginSpec("0 4 0 4")
                    .Items(
                              Html.X().DateTimeFieldFor(m => m.StartTime).ReadOnly(true).FieldLabel("Bắt đầu")
                                    .ColumnWidth(1).MarginSpec("15 8 5 8"),
                              Html.X().DateTimeFieldFor(m => m.EndTime).ReadOnly(true).FieldLabel("Kết thúc")
                                    .ColumnWidth(1).MarginSpec("5 8 5 8"),
                              Html.X().CheckboxFor(m => m.IsFixed).ReadOnly(true).FieldLabel("Đã khắc phục").BoxLabel("Xác nhận").ColumnWidth(1).MarginSpec("5 8 5 8")
                      ),
                      Html.X().TextAreaFor(m => m.Problem).ReadOnly(true).FieldLabel("Những tồn tại cần khắc phục tiếp")
                            .LabelAlign(LabelAlign.Top).LabelWidth(250)
                            .ColumnWidth(0.6).Margin(0).Height(100)
                )
            )
    )
    .Buttons( Html.X().Button().Text("Đóng").Icon(Icon.Cancel).OnClientClick("this.up('window').close();"))
)

