@using Ext.Net.MVC
@using Ext.Net
@using iDAS.Utilities
@using iDAS.Web.ExtExtend
@model iDAS.Items.QualityCAPAItem
@(Html.X().ApprovalWindow()
           .UrlSubmit(Url.Action("Approve", "CAPA", new { area = "Quality" }))
           .ItemsExtend(
                Html.X().TabPanel()
                    .ActiveTabIndex(0)
                    .Border(true)
                    .Items(
                        Html.X().FormPanel()
                                .AutoScroll(true)
                                .Title("Nội dung khắc phục phòng ngừa")
                                .Layout(LayoutType.VBox)
                                .LayoutConfig(new VBoxLayoutConfig { Align = VBoxAlign.Stretch })
                                .Frame(true)
                                .PaddingSpec("5 10 0 5")
                                .FieldDefaults(df => { df.LabelWidth = 120; df.LabelStyle = "padding-left: 5px;"; })
                                .StyleSpec("border: none;")
                                .Items(
                                        Html.X().HiddenFor(m => m.ID),
                                        Html.X().HiddenFor(m => m.RequireID),
                                        Html.X().TextFieldFor(m=>m.Name).ReadOnly(true).FieldLabel("Yêu cầu"),
                                        Html.X().Container().Height(25)
                                            .Layout(LayoutType.Column)
                                            .Items(
                                                    Html.X().DateFieldFor(m => m.CompleteTime).ReadOnly(true).FieldLabel("Ngày hoàn thành" ).ColumnWidth(0.5)
                                            ),
                                        Html.X().TextAreaFor(m => m.Cause).ReadOnly(true)
                                                .AllowBlank(false)
                                                .FieldLabel("Nguyên nhân" )
                                                .BlankText("Nội dung này không được bỏ trống!")
                                                .EmptyText("Nguồn phát sinh của điểm không phù hợp")
                                                .Height(150),
                                        Html.X().TextAreaFor(m => m.Solution).ReadOnly(true)
                                                .AllowBlank(false)
                                                .FieldLabel("Giải pháp" )
                                                .BlankText("Nội dung này không được bỏ trống!")
                                                .EmptyText("Nguồn phát sinh của điểm không phù hợp")
                                                .MinHeight(80).Flex(1)      
                                )
                         //       ,
                         //Html.X().Panel()
                         //       .Title("Thông tin kiểm tra")
                         //       .AutoScroll(true)
                         //       .Layout(LayoutType.VBox)
                         //       .LayoutConfig(new VBoxLayoutConfig { Align = VBoxAlign.Stretch })
                         //       .Frame(true)
                         //       .PaddingSpec("5 10 0 5")
                         //       .StyleSpec("border: none;")
                         //       .Items(
                         //               Html.X().EmployeeFieldFor(m => m.CheckBy).ReadOnly(true).Title("Người kiểm tra"),
                         //               Html.X().DateFieldFor(m => m.CheckAt).ReadOnly(true).FieldLabel("Ngày kiểm tra"),
                         //               Html.X().TextAreaFor(m => m.CheckNote).ReadOnly(true).FieldLabel("Ghi chú").MinHeight(70).Flex(1) 
                         //       )
                    )
            )
)